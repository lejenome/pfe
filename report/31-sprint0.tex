\chapter{Itération~0 ``Planification et architecture''}
\label{sec:sprint0}

L'itération 0 était dédiée à la présentation du projet aux membres de l'équipe,
à la recherche des choix technologiques, à la mise en place et au test de
l'environnement de développement. L'itération 0 inclue des multiples des
réunions avec le directeur du produit (Product Owner) et des multiples
intervenants impliqués dans le produit pour la pré-planification du projet et
la préparation du carnet du produit nommé Backlog Général.

\section{Planification de l'itération}

La planification de l'itération représente une étape importante dans la vie de
l'itération parce que au cours du planification, on divise l'itération en
plusieurs tâches pour mieux atteindre le but à la fin de l'itération.

\subsection{Répartition des rôles}

Chaque projet utilisant la méthode Scrum est monté autour d'une équipe
autoorganisée et multifonctionnelle: autoorganisée car il n'y a pas de chef
d'équipe qui décide le rôle de chacun, ou de la manière dont un problème est
résolu, puisque ces problématiques sont traitées par l'équipe dans son
ensemble et multifonctionnelle car chaque membre de l'équipe forme une partie
prenante dans le développement de chaque fonctionnalité depuis l'idée jusqu'à
l'implémentation finale.

Dans Scrum, il existe trois rôles principaux:

\begin{itemize}
    \item Le responsable produit (Product Owner).
    \item Le Scrum Master.
    \item Les membres de l'équipe.
\end{itemize}

\begin{figure}[!h]
    \centering
    \includegraphics[width=.4\textwidth]{sprint0-scrum}
    \caption{Présentation de l'équipe Scrum}
    \label{fig:sprint0-scrum}
\end{figure}

\subsubsection{Responsable produit \textquote{Product Owner}}

Il prend en charge de communiquer la vision globale du produit à l'équipe. Il
se voit représenter le client final, se met à sa place et priorise ses besoins.
Celui qui tient ce rôle est celui qui a le plus de visibilité. En effet, la méthode Scrum favorise
l'auto-organisation de l'équipe. Pendant les deux premières itérations, vue que
la méthode était au début de son application, le Product Owner était un des
mentors de la \textquote{Djagora Academy}. Puis, le rôle était assigné à membre
de l'équipe qui s'occupe de la partie marketing et la communication avec les
clients potentiels de notre projet.

\subsubsection{Scrum Master}

Il joue le rôle du communiquant entre le responsable produit et l'équipe. Il ne
gère pas l'équipe, mais veille à éliminer tous les obstacles qui peuvent
empêcher l'équipe d'atteindre les objectifs fixés au cours d'un Sprint. En
résumé, ce rôle permet à l'équipe de rester créative et productive, tout en
veillant à ce que les réalisations soient visibles pour le responsable produit.
Ce rôle était assigné à un membre de l'équipe \textquote{City Watch}.

\subsubsection{Membres de l'équipe}

Dans la méthode Scrum, l'équipe est responsable de la réalisation
opérationnelle des itérations. L'équipe est généralement composée de personnes
multitâches. C'est toute l'équipe qui est responsable du résultat final de
chaque itération. La manière dont sont exécutées les tâches est très libre mais
cette liberté doit être néanmoins cadrée par l'obligation de répondre aux
objectifs du l'itération.

\subsection{Scrum Board}

Au cours de chaque itération du projet, nous avons utilisé Excel et un tableau
physique pour suivre l'évolution des tâches de chaque membre.

Dans la figure~\ref{fig:scrum-board}, nous représente le tableau des tâches. Les
lignes colorées représentent nos tâches du binôme. Les colonnes du tableau
sont:

\begin{description}
    \item [Who] L'allias du nom de chaque membre de l'équipe.

        \emph{Exemple:} \textbf{RM} signifie \textbf{R}ihab \textbf{M}ajdoub.
    \item [À faire (Todo)] Les tâches assignées aux membres pour cette itération.
        L'échange des tâches entre les membres est possible sur le supervision
        du Scrum Master.
    \item [Implémentation] La pourcentage de l'implémentation de la tâche de 0\%
        jusqu'à 100\%. Si le développeur a commencé l'implémentation d'une
        tâche, il la déplace dans cette colonne et faire le mise à jour du
        pourcentage de l'implémentation à chaque jour pendant un réunion de 20
        minutes nommé \textquote{Daily Scrum}, on discute
        de l'évolution du travail et le plan du jour prochain.
    \item [Test/Intégration/Review] L'implémentation de la tâche est complète,
        elle est donc en phase d'évaluation et vérification de son
        fonctionnement. Depuis la deuxième
        itération, au moins un autre membre doit revoir le code à fin
        d'assurer la qualité du code, détecter et corriger les défauts le plus
        tôt possible.
    \item [Complete (Done)] La tâche était implémentée et validée.
\end{description}

On a utilisé différents couleurs pour différents types des tâches:

\begin{description}
    \item [Rose] Les tâches du développement d'interface web (Dashboard).
    \item [Verte] Les tâches du développement mobile (l'application Android).
    \item [Jaune] Les tâches du développement des services web et
        d'administration.
\end{description}

La liste des prochaines réunions est écrite dans le tableau aussi:

\begin{itemize}
    \item Présentations des recherches si la tâche inclue une partie de la
        recherche et présentation.
    \item Rendez-vous avec les intervenants du projet.
    \item Si un développeur a besoin d'aide ou de discuter d'un problème
        rencontré.
    \item Code Revue à la fin d'itération fait par tous les membres pour
        évaluer la qualité du code et détecter les défauts de conception et
        d'implémentation.
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.9\textwidth]{sprint1-fig1}
    \caption{Tableau du board de Scrum (Scrum Board)}
\label{fig:scrum-board}
\end{figure}

\subsection{Burndown Chart}

Pour montrer l'avancement durant une itération donnée, le Burndown Chart
(graphique d'avancement) est tracé. Il s'agit d'un graphique simple qui montre
le nombre d'heures restant à effectuer pour finir les tâches d'itération
courante. Les graphiques d'avancement de chaque itération sont disponibles dans
les figures~\ref{fig:sprint1-burndown},~\ref{fig:sprint2-burndown}
et~\ref{fig:sprint3-burndown}.

\section{Backlog général}

La première étape de la méthode Scrum consiste à préparer un carnet du produit
(Product Backlog) qui présente la liste des tâches à effectuer durant le
développement du projet qui sera répartie en des itérations. le Product Owner
prend en charge de communiquer la vision globale du produit à l'équipe. Il se
voit représenter le client final, se met à sa place et priorise ses besoins
selon des critères respectant la mission et les objectifs de son produit. En
précisant la valeur de priorité, il estime l'impact et le retour sur
investissement qu'aura chacun des items dans le carnet du produit. Il y a donc
effectivement eu un gros travail d'échanges et discussions avec le client pour
comprendre tout le cahier des charge initial.

Les fonctionnalités que nous avons décidé d'implanter dans le projet \textquote{City
Watch} incluent un système itinéraire qui détecte la position et le trajet
d'utilisateur, un système d'information routière qui collecte les données de
l'infrastructure et de l'état de la route, un système de gestion des rapports
qui permet de déclarer différents types des rapports, un système de capture des
informations réseaux cellulaires, un système d'analyse et de valorisation qui
visualise ces données instantanément en des cartographies et des diagrammes
dynamiques, configurables et un système d'assistance qui guide et notifie
l'utilisateur.

La figure~\ref{fig:product-backlog} présente une version simplifiée du Product
Backlog complète des 3 premières itérations. Nous représentons notre
participation de binôme par les cercles du texte souligné.

\input{figures/product-backlog}

Le tableau~\ref{tab:product-backlog} représente une liste plus détaillée des cas
d'utilisations que nous allons les implémentés pendant les trois premières
itérations.  La définition des ces cas d'utilisation suit la forme suivante:

\begin{displayquote}
    En tant que \textbf{X}, je peux \textbf{Y} Afin d'\textbf{Z}.
\end{displayquote}

Ou aussi la forme:

\begin{displayquote}
    En tant que \textbf{X}, je veux qu'il soit possible de \textbf{Y} pour
    \textbf{Z}.
\end{displayquote}

Ou \textbf{X} est l'acteur initiateur, \textbf{Y} est le service rendu par le
système et \textbf{Z} est le but du cas. Prenant comme exemple le cas
d'utilisation suivant: En tant qu'utilisateur, je veux qu'il soit possible de
localiser ma position continuellement pour l'afficher instantanément sur une
cartographie.

Dans notre liste des cas d'utilisation, l'acteur initiateur (\textbf{X}) est
toujours l'utilisateur.

Les valeurs des priorités de cas d'utilisation (présentées dans la colonnes
\textbf{P}) sont définies comme le suivant:

\begin{description}[align=right,labelwidth=1cm]
    \item [1:] Définir une haute priorité, affectée pour les spécifications
        importantes, exigées pour le produit.
    \item [2:] Définir une priorité importante mais pas exigée.
    \item [3:] Définir une priorité moyenne ou parfois faible.
\end{description}

\Needspace{5\baselineskip}
\begin{center}
    \footnotesize
    \setlength\LTleft{-20pt}
    \begin{longtable}{| l | p{3.5cm} | p{5.5cm} | p{5cm} | l |}
        \caption{Backlog du Produit}
        \label{tab:product-backlog} \\

        \hline
        \textbf{ID} & \textbf{Cas d'utilisation} & \textbf{Je veux qu'il soit possible de} & \textbf{Pour} & \textbf{P} \\ \hline
        \endhead

        \hline \multicolumn{5}{|r|}{{Continué en page suivante$\dotsc$}} \\ \hline
        \endfoot

        \hline \hline
        \endlastfoot

        \hline
1 & Gestion de la Trajectoire & Activer la localisation & Enregistrer la trajectoire & 1 \\ \cline{3-5}
&                          & Consulter le Dashboard  & Afficher la trajectoire instantané & 1 \\ \cline{3-5}
&                          & Filtrer la trajectoire  & Consulter l'histoire des trajectoires & 2 \\ \hline
2 & Gestion des Rapports   & Déclarer un rapport depuis le site & Avoir un rapport dans la carte & 1 \\ \cline{3-5}
&                          & Choisir un emplacement & Afficher et filtrer par catégorie & 1 \\ \cline{3-5}
&                          & Ajouter une image et commentaire & Enrichir le rapport & 1 \\ \cline{3-5}
&                          & Accéder à formulaire depuis l'application mobile & rapporter instantané et facilement & 2 \\ \cline{3-5}
&                          & Activer/Désactiver le groupement des marqueurs & Avoir une vision sur le nombre des rapports plus claire & 3 \\ \hline
3 & Tableau de bord (Dashboard) & Consulter le Dashboard & Visualiser diffèrent type de données comme marqueurs et zones & 1 \\ \cline{3-5}
&                               & Manipuler la légende   & Filtrer les données affichés & 1 \\ \hline
4 & Comptes                & Créer un compte & Pouvoir enregistrer des données personnels (trajectoire) & 3 \\ \cline{3-5}
&                          & Se connecter & Accéder aux données routières privées (trajectoire) & 3 \\ \cline{3-5}
&                          & Visiter le Dashboard sans compte & Consulter une version minimale des fonctionnalités & 3 \\
        \hline
    \end{longtable}
\end{center}

\section{Environnement de travail}

Pendant l'itération 0, nous avons fait une recherche sur les choix techniques à
fin de mettre en place l'environnement de développement de différentes parties
du projet. Ces choix concernent l'environnement logiciel à utiliser tel que les
langages de programmation, les frameworks et les outils de développement.

\subsection{Développement Application Mobile avec Android}

Android est un système d'exploitation basé sur le noyau Linux ciblant
principalement les smartphones, les tablettes avec support pour les
technologies mettables, les télévisions et les voitures. Il est le système
mobile le plus utilisé dans le monde avec 88\% de part de marché des
smartphones en Novembre 2016~\cite{android-market-share}.

Le système économique d'Android est très fort avec plus de 2,950,000
d'applications en Google Play Store en Mai 2017~\cite{android-apps}. Jusqu'à
Mai 2017, la dernière version majeure du système Android est Nougat (7.X)
disponible depuis le mois d'aout 2016~\cite{android-7-release} avec le dernier
mise à jour est 7.1.2 disponible depuis le 5 janvier 2017.

Nous avons choisi de supporter le système Android comme notre première
plateforme. Ce choix était basé sur différents aspects:

\begin{itemize}
    \item La part de marché des smartphones et tablettes Android.
    \item L'ouverture de la plateforme, et l'accessibilité aux différentes
        fonctionnalités et aux outils de développements.
    \item Android Auto, Android Wear, Android Things\ldots
\end{itemize}

Android Studio (v2.3) était le choix naturel pour le développement
d'application grâce au support officiel du Google et les fonctionnalités
héritées de l'ide IntelliJ IDEA de JetBrains comme un concepteur d'interface
utilisateur pour des résolutions variées simultanément, débogueur, \ldots.

%Dans la première itération, cette partie va être encore élaborée pour faire le
%choix adéquat de la version de SDK à utiliser puisque les versions du système
%Android en marché supportent des variétés des SDKs qui peuvent être riches en
%fonctionnalités et le choix de la version de SDK dépend de ces fonctionnalités
%à utiliser.

La version du SDK choisie est 23 qui vise la version Android 6.0 ayant un taux
d'utilisateur qui est 40\% en Main 2017~\cite{android-sdk}.

\subsection{Développement Web}

En se basant sur les conseils du Product Owner et aux limites d'environnement
de développement dont le serveur supporte seulement PHP, nous avons choisi le
langage de programmation PHP (PHP 7.0) pour le développement des services web.

Les points fort du PHP:

\begin{itemize}
    \item Un langage très répondu dans le développement Web. Il a une
        grande communauté des développeurs.
    \item Une grande liste des outils de développement incluant les
        gestionnaires des dépendances (Composer, Phar), outils des tests
        unitaires (PHPUnit), générateurs du documentation (PHPDoc, Sami),
        débogueurs (Xdebug), analyseurs du code et analyseurs statiques
        (php\_CodeSniffer, PHPLint), outils d'automatisation (Phing) and
        multiple IDEs.
    \item Multiple bibliothèques et frameworks pour différent type des projets.
\end{itemize}

Les points faibles de la langue PHP:

\begin{itemize}
    \item Gestion d'erreurs très souple par défaut même si les erreurs sont
        fatales.
    \item Manque d'un paradigme unique dans l'architecture de la langue (le
        choix du syntaxe et du noms des fonctions)
\end{itemize}

L'IDE choisi pour le développement PHP est PHPStorm (2017.1), un IDE
multi-plateforme de JetBrains. Il regroupe sous une interface conviviale un
éditeur de texte avancé et intelligent, un interpréteur et un débogueur\ldots.
Vim a été aussi utilisé avec un ensemble des extensions pour enrichir ses
fonctionnalités.

Pour le développement du frontend, nous avons choisi d'utiliser les
technologies Web modernes qui nous permettre de créer une application web
interactive et dynamique rapidement et aisément sans besoin d'un backend pour
générer le contenu.

\begin{description}
    \item [HTML 5.1] Nous avons utilisé les tags sémantiques, les nouveaux types
        et attributs de validation du formulaire et les nouveautés
        des api Web comme l'api DOM et l'api de localisation.
    \item [JavaScript 7] Ou encore ECMAScript 2016\textregistered définit dans
        la spécification ECMA-262~\cite{ECMA262}. JavaScript est un langage
        indispensable dans le développement web. L'utilisation de la dernière
        version a éliminé le besoin d'utiliser des bibliothèques classiques
        comme jQuery surtout grâce aux nouveautés comme la programmation POO,
        la programmation asynchrone (Promise) et des autres nouveautés de
        syntaxe.
    \item [CSS 3] Ou plus précisément les modules stabilisés du CSS niveau 3.
        L'utilisation du CSS était indirect comme nous avons
        utilisé les bibliothèques Bootstrap v3 et Materialize v0.98 pour
        simplifier le travail.
\end{description}

L'utilisation de ces dernières mises à jours des standards du web a causé le
support de l'application web que par seulement les dernières versions des
navigateurs principales\footnote{Firefox v45+ (sans support d'input de type
date), Google Chrome v50+, Edge v14+, Safari 10+ (sans support d'input de type
date), Opera 37}. Le support des autres anciennes versions et des autres
navigateurs est possible en demande à travers les transcompilateurs du
ECMAScript 2016+ à ECMAScript 5.1 comme Babel ou Traceur même s'il n'était pas
une priorité pendant notre phase de développement. Quelques fonctionnalités de
ECMAScript 2016 n'étaient pas utilisées car elles ne sont pas encore
implémentées par aucun des navigateurs principales comme les Modules.

Pour l'hébergement du notre code web, nous avons utilisé un serveur
local\footnote{Windows 10, Wamp Server 3.0, Apache 2.4, PHP 7.0, MySQL 5.7}
pour la phase du test du code et un serveur distant\footnote{Ubuntu Server
12.04.5 LTS, Linux 3.2, Apache 2.4, PHP 7.0, MySQL 5.5}.

\section*{Conclusion}
\addcontentsline{toc}{section}{Conclusion}

L'itération 0 nous a permis de bien comprendre le produit à développer et de
préparer le terrain pour une bonne entame de développement. Pendant cette
itération, nous avons élaboré le carnet de notre projet avec la collaboration
du Product Owner.
