% @Author: Moez Bouhlel

\documentclass[
paper=a4,
fontsize=12pt,
twoside,
%singlespacing, % Single line spacing, alternatives: onehalfspacing or doublespacing
%nolistspacing, % If the document is onehalfspacing or doublespacing, uncomment this to set spacing in lists to single
%parskip, % Uncomment to add space between paragraphs
%headsepline, % Uncomment to get a line under the header
%chapterinoneline, % Uncomment to place the chapter title next to the number on one line
%consistentlayout, % Uncomment to change the layout of the declaration, abstract and acknowledgements pages to match the default layout
titlepage
]{article} % {scrartcl}

\usepackage{abstract}
\renewcommand{\abstractnamefont}{\large\bfseries}

\usepackage{authblk}

\usepackage[shorthands=off,english,french]{babel}
%\usepackage{polyglossia}
%\setmainlanguage{french}
%\setotherlanguages{english}

\usepackage[acronym,toc]{glossaries}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}

%\usepackage{mathspec}
%\usepackage{xltxtra,xunicode}
%\defaultfontfeatures{Mapping=tex-text,Scale=MatchLowercase}
%\setmainfont{TeX Gyre Pagella}
%\setsansfont{FreeSans}
%\setmonofont[Mapping=tex-ansi]{Monaco}

\usepackage{graphicx}
\graphicspath{ {figures/} }
\usepackage{array}

\usepackage[intoc]{nomencl}
\makenomenclature

\usepackage{url}
\usepackage[% setpagesize=false, % page size defined by xetex
            % unicode=false, % unicode breaks when used with xetex
            % xetex
            ]{hyperref}
\hypersetup{breaklinks=true,
            bookmarks=true,
            pdfauthor={Moez Bouhlel; Rihab Majdoub},
            pdftitle={La Platforme CityWatch},
            pdfsubject={Mémoire de projet de fin d'études - La Platforme CityWatch},
            pdfkeywords={CityWatch, Djagora, PFE, FSS},
            colorlinks=true, % false
            citecolor=blue,
            urlcolor=blue,
            linkcolor=magenta,
            pdfborder={0 0 0}}

\urlstyle{same}  % don't use monospace font for urls
% Make links footnotes instead of hotlinks:
\renewcommand{\href}[2]{#2\footnote{\url{#1}}}

\usepackage{minted}
%\usemintedstyle{borland}
\usemintedstyle{tango}

% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}

\usepackage{geometry}
\geometry{
    left=3.5cm,
    right=2.5cm,
    paper=a4paper, % Change to letterpaper for US letter
    inner=2.5cm, % Inner margin
    outer=3.8cm, % Outer margin
    bindingoffset=.5cm, % Binding offset
    top=3cm, % Top margin
    bottom=2.5cm, % Bottom margin
    %showframe, % Uncomment to show how the type block is set on the page
}

%%% Custom sectioning
\usepackage{sectsty}
\allsectionsfont{\large\bfseries\scshape}

\usepackage{titlesec}
\newcommand{\hsp}{\hspace{20pt}}
\titleformat{\chapter}[block]{\Huge\bfseries}{\thechapter \hsp {|}\hsp}{0pt}{\Huge\bfseries}
\titleformat{\section}[block]{\Large\bfseries}{\thesection \ }{0pt}{\Large \bfseries}
\titleformat{\subsection}[block]{\large\bfseries}{\thesubsection \ }{0pt}{\large \bfseries}

%%% Custom headers/footers (fancyhdr package)
\usepackage{fancyhdr}
\fancyhf{}
\fancyhead[LE,RO]{\itshape CityWatch}
\fancyhead[RE,LO]{\itshape{\nouppercase{\leftmark}}}
\fancyfoot[RE,LO]{\thepage}
\renewcommand{\headrulewidth}{2pt} % Remove header underlines%\renewcommand{\footrulewidth}{1pt} % Remove footer underlines
%\setlength{\headheight}{13.6pt}

\usepackage{fancyvrb}
\VerbatimFootnotes

%%% Equation and float numbering
%\numberwithin{equation}{section}   % Equationnumbering: section.eq#
%\numberwithin{figure}{section}     % Figurenumbering: section.fig#
%\numberwithin{table}{section}      % Tablenumbering: section.tab#

\makeglossaries
\input{glossary}

\title{La Platforme CityWatch - Memoire de Projet de Fin d'Etudes}
\author{Moez Bouhlel}
\author{Rihab Majdoub}
\affil{Faculté des Sciences de Sfax, Tunisie}

\usepackage{tikz}
\usetikzlibrary{arrows.meta}
\tikzset{%
  >={Latex[width=2mm,length=2mm]},
  base/.style = {rectangle, rounded corners, draw=black,
      minimum width=4cm, minimum height=1cm,
      text centered, font=\sffamily},
  activityStarts/.style = {base, fill=blue!30},
  startstop/.style = {base, fill=red!30},
  activityRuns/.style = {base, fill=green!30},
  process/.style = {base, minimum width=2.5cm, fill=orange!15, font=\ttfamily},
}

\begin{document}

\input{title}

\pagestyle{empty}
\pagenumbering{roman}

\input{quote}
\input{abstract}
\input{merci}

\clearpage
\pagestyle{plain}

\hypersetup{linkcolor=black}
\setcounter{tocdepth}{3}

\tableofcontents

\clearpage
\addcontentsline{toc}{section}{Table des figures}
\listoffigures

\clearpage
\addcontentsline{toc}{section}{Liste des tableaux}
\listoftables

\clearpage
\renewcommand\listoflistingscaption{Liste des codes sources}
\addcontentsline{toc}{section}{Liste des codes sources}
\listoflistings

\newpage

% list of abbreviations
\nomenclature{$c$}{Speed of light in a vacuum inertial frame}
\nomenclature{$h$}{Planck constant}

\printnomenclature

\newpage
\pagestyle{fancy}
\pagenumbering{arabic}

\part{}
\input{section0}
\newpage
\input{section1}
\newpage
\input{section2}

%%%% INCLUDE CHAPTERS

\appendix

% APPENDEX A, B, ...

\clearpage
% \printglossary[type=\acronymtype]
\addcontentsline{toc}{section}{Glossaire des Acronymes}
\printglossaries

\nocite{*}
\bibliographystyle{plain}
\bibliography{bib}

\end{document}
